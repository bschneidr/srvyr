<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>srvyr: A package for 'dplyr'-Like Syntax for Summary Statistics of Survey Data. — srvyr • srvyr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="srvyr: A package for 'dplyr'-Like Syntax for Summary Statistics of Survey Data. — srvyr"><meta name="description" content="The srvyr package provides a new way of calculating summary statistics
on survey data, based on the dplyr package. There are three stages to using
srvyr functions, creating a survey object, manipulating the data, and
calculating survey statistics."><meta property="og:description" content="The srvyr package provides a new way of calculating summary statistics
on survey data, based on the dplyr package. There are three stages to using
srvyr functions, creating a survey object, manipulating the data, and
calculating survey statistics."><meta property="og:image" content="http://gdfe.co/srvyr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">srvyr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/srvyr-vs-survey.html">Overview</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/srvyr-vs-survey.html">srvyr Compared to the survey Package (Overview)</a></li>
    <li><a class="dropdown-item" href="../articles/srvyr-database.html">Databases in srvyr</a></li>
    <li><a class="dropdown-item" href="../articles/extending-srvyr.html">Extending srvyr</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/gergness/srvyr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>srvyr: A package for 'dplyr'-Like Syntax for Summary Statistics of Survey Data.</h1>
      <small class="dont-index">Source: <a href="https://github.com/gergness/srvyr/blob/HEAD/R/srvyr.r" class="external-link"><code>R/srvyr.r</code></a></small>
      <div class="d-none name"><code>srvyr.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The srvyr package provides a new way of calculating summary statistics
on survey data, based on the dplyr package. There are three stages to using
srvyr functions, creating a survey object, manipulating the data, and
calculating survey statistics.</p>
    </div>


    <div class="section level2">
    <h2 id="functions-to-create-a-survey-object">Functions to create a survey object<a class="anchor" aria-label="anchor" href="#functions-to-create-a-survey-object"></a></h2>


<p><code><a href="as_survey_design.html">as_survey_design</a></code>, <code><a href="as_survey_rep.html">as_survey_rep</a></code>,
and <code><a href="as_survey_twophase.html">as_survey_twophase</a></code> are used to create surveys based on
a data.frame and design variables, replicate weights or two phase design
respectively. Each is based on a function in the survey package
(<code><a href="https://rdrr.io/pkg/survey/man/svydesign.html" class="external-link">svydesign</a></code>, <code><a href="https://rdrr.io/pkg/survey/man/svrepdesign.html" class="external-link">svrepdesign</a></code>,
<code><a href="https://rdrr.io/pkg/survey/man/twophase.html" class="external-link">twophase</a></code>), and it is easy to modify code that uses
the survey package so that it works with the srvyr package. See
<code>vignette("srvyr_vs_survey")</code> for more details.</p>
<p>The function <code><a href="as_survey.html">as_survey</a></code> will choose between the other three
functions based on the arguments given to save some typing.</p>
    </div>
    <div class="section level2">
    <h2 id="functions-to-manipulate-data-in-a-survey-object">Functions to manipulate data in a survey object<a class="anchor" aria-label="anchor" href="#functions-to-manipulate-data-in-a-survey-object"></a></h2>


<p>Once you've created a survey object, you can manipulate the data as you would
using dplyr with a data.frame. <code><a href="dplyr_single.html">mutate</a></code> modifies or creates a variable,
<code><a href="dplyr_single.html">select</a></code> and <code><a href="dplyr_single.html">rename</a></code> select or rename variables, and
<code><a href="dplyr_single.html">filter</a></code> keeps certain observations.</p>
<p>Note that <code>arrange</code> and two table verbs such as <code>bind_rows</code>,
<code>bind_cols</code>, or any of the joins are not usable on survey objects
because they might require modifications to the definition of your survey. If
you need to use these functions, you should do so before you convert the
data.frame to a survey object.</p>
    </div>
    <div class="section level2">
    <h2 id="functions-to-summarize-a-survey-object">Functions to summarize a survey object<a class="anchor" aria-label="anchor" href="#functions-to-summarize-a-survey-object"></a></h2>


<p>Now that you have your data set up correctly, you can calculate summary
statistics. To get the statistic over the whole population, use
<code><a href="summarise.html">summarise</a></code>, or to calculate it over a set of groups, use
<code><a href="group_by.html">group_by</a></code> first.</p>
<p>You can calculate the mean, (with <code><a href="survey_mean.html">survey_mean</a></code>), the total
(<code><a href="survey_total.html">survey_total</a></code>), the quantile (<code><a href="survey_quantile.html">survey_quantile</a></code>),
or a ratio (<code><a href="survey_ratio.html">survey_ratio</a></code>). By default, srvyr will return the
statistic and the standard error around it in a data.frame, but with the
<code>vartype</code> parameter, you can also get a confidence interval ("ci"),
variance ("var"), or coefficient of variation ("cv").</p>
<p>Within summarise, you can also use <code><a href="unweighted.html">unweighted</a></code>, which calculates
a function without taking into consideration the survey weighting.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="http://gdfe.co/srvyr/">http://gdfe.co/srvyr/</a></p></li>
<li><p><a href="https://github.com/gergness/srvyr/" class="external-link">https://github.com/gergness/srvyr/</a></p></li>
<li><p>Report bugs at <a href="https://github.com/gergness/srvyr/issues" class="external-link">https://github.com/gergness/srvyr/issues</a></p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><strong>Maintainer</strong>: Greg Freedman Ellis <a href="mailto:greg.freedman@gmail.com">greg.freedman@gmail.com</a></p>
<p>Authors:</p><ul><li><p>Ben Schneider [contributor]</p></li>
</ul><p>Other contributors:</p><ul><li><p>Thomas Lumley [contributor]</p></li>
<li><p>Tomasz Żółtak [contributor]</p></li>
<li><p>Pavel N. Krivitsky <a href="mailto:pavel@statnet.org">pavel@statnet.org</a> [contributor]</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Greg Freedman Ellis, Ben Schneider.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

